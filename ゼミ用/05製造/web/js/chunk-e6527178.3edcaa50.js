(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6527178"],{3849:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("d4ec"),r=a("ade3"),c=function t(){Object(s["a"])(this,t)};Object(r["a"])(c,"CONTROLLER","/graph/controller"),Object(r["a"])(c,"LOGIN",c.CONTROLLER+"/LoginControler.php"),Object(r["a"])(c,"LOGOUT",c.CONTROLLER+"/LogoutControler.php"),Object(r["a"])(c,"SIGNUP",c.CONTROLLER+"/CreateAccountControler.php"),Object(r["a"])(c,"DELETE_ACCOUNT",c.CONTROLLER+"/DeleteAccountControler.php"),Object(r["a"])(c,"SEARCH_ALL_OPUS",c.CONTROLLER+"/SearchAllOpusControler.php"),Object(r["a"])(c,"SEARCH_OPUS",c.CONTROLLER+"/SearchOpusControler.php"),Object(r["a"])(c,"CREATE_OPUS",c.CONTROLLER+"/CreateOpusControler.php"),Object(r["a"])(c,"EDIT_OPUS",c.CONTROLLER+"/EditOpusControler.php"),Object(r["a"])(c,"DELETE_OPUS",c.CONTROLLER+"/DeleteOpusControler.php"),Object(r["a"])(c,"SEARCH_TIME",c.CONTROLLER+"/SearchTimeControler.php"),Object(r["a"])(c,"CREATE_TIME",c.CONTROLLER+"/CreateTimeControler.php"),Object(r["a"])(c,"EDIT_TIME",c.CONTROLLER+"/EditTimeControler.php"),Object(r["a"])(c,"DELETE_TIME",c.CONTROLLER+"/DeleteTimeControler.php"),Object(r["a"])(c,"SEARCH_RELMST",c.CONTROLLER+"/SearchRelMstControler.php"),Object(r["a"])(c,"CREATE_RELMST",c.CONTROLLER+"/CreateRelMstControler.php"),Object(r["a"])(c,"EDIT_RELMST",c.CONTROLLER+"/EditRelMstControler.php"),Object(r["a"])(c,"DELETE_RELMST",c.CONTROLLER+"/DeleteRelMstControler.php"),Object(r["a"])(c,"SEARCH_REL",c.CONTROLLER+"/SearchRelControler.php"),Object(r["a"])(c,"CREATE_REL",c.CONTROLLER+"/CreateRelControler.php"),Object(r["a"])(c,"EDIT_REL",c.CONTROLLER+"/EditRelControler.php"),Object(r["a"])(c,"DELETE_REL",c.CONTROLLER+"/DeleteRelControler.php"),Object(r["a"])(c,"SEARCH_GROUP",c.CONTROLLER+"/SearchGroupControler.php"),Object(r["a"])(c,"CREATE_GROUP",c.CONTROLLER+"/CreateGroupControler.php"),Object(r["a"])(c,"EDIT_GROUP",c.CONTROLLER+"/EditGroupControler.php"),Object(r["a"])(c,"DELETE_GROUP",c.CONTROLLER+"/DeleteGroupControler.php"),Object(r["a"])(c,"SEARCH_ACTOR",c.CONTROLLER+"/SearchActorControler.php"),Object(r["a"])(c,"CREATE_ACTOR",c.CONTROLLER+"/CreateActorControler.php"),Object(r["a"])(c,"CREATE_IMG_ACTOR",c.CONTROLLER+"/CreateActorImgControler.php"),Object(r["a"])(c,"EDIT_ACTOR",c.CONTROLLER+"/EditActorControler.php"),Object(r["a"])(c,"DELETE_ACTOR",c.CONTROLLER+"/DeleteActorControler.php"),Object(r["a"])(c,"SEARCH_GRAPH",c.CONTROLLER+"/SearchGraphControler.php"),Object(r["a"])(c,"CREATE_GRAPH",c.CONTROLLER+"/CreateGraphControler.php"),Object(r["a"])(c,"COMMON_MST",c.CONTROLLER+"/SearchCommonControler.php"),Object(r["a"])(c,"SEARCH","/user/search"),Object(r["a"])(c,"ACCOUNT","/account"),Object(r["a"])(c,"QUESTION","/question"),Object(r["a"])(c,"CALENDER","/calendar"),Object(r["a"])(c,"INCOME","/income"),Object(r["a"])(c,"INC_ID","/income/{incId}"),Object(r["a"])(c,"INC_ID_NAME","{incId}"),Object(r["a"])(c,"INCOME_CATEGORY","/income/category"),Object(r["a"])(c,"INC_CATEGORY_ID","/income/category/{incCategoryId}"),Object(r["a"])(c,"INC_CATEGORY_ID_NAME","{incCategoryId}"),Object(r["a"])(c,"PAYMENT","/payment"),Object(r["a"])(c,"PAY_ID","/payment/{payId}"),Object(r["a"])(c,"PAY_ID_NAME","{payId}"),Object(r["a"])(c,"PAYMENT_CATEGORY","/payment/category"),Object(r["a"])(c,"PAY_CATEGORY_ID","/payment/category/{payCategoryId}"),Object(r["a"])(c,"PAY_CATEGORY_ID_NAME","{payCategoryId}"),Object(r["a"])(c,"BUDGET","/payment/budget"),Object(r["a"])(c,"TRANSFER","/transfer"),Object(r["a"])(c,"TRA_ID","/transfer/{traId}"),Object(r["a"])(c,"TRA_ID_NAME","{traId}"),Object(r["a"])(c,"WALLET","/wallet"),Object(r["a"])(c,"BANK_ID","/wallet/{bankId}"),Object(r["a"])(c,"BANK_ID_NAME","{bankId}"),Object(r["a"])(c,"EAT","/eat"),Object(r["a"])(c,"EAT_ID","/eat/{eatId}"),Object(r["a"])(c,"SCHEDULE","/schedule"),Object(r["a"])(c,"SCHEDULE_ID","/schedule/{scheduleId}")},"3bc7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("aside",{staticClass:"col-12"},[a("b-navbar",{attrs:{toggleable:"",type:"dark",variant:"dark"}},[a("b-navbar-brand",[t._v(" 相関図投稿画面 ")]),a("b-navbar-brand",[a("b-dropdown",{attrs:{right:"","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("font-awesome-icon",{attrs:{icon:"cog"}})]},proxy:!0}])},[a("b-dropdown-item",[a("router-link",{attrs:{to:{name:t.graphList}}},[t._v("相関図一覧画面へ ")])],1),a("b-dropdown-item",{attrs:{variant:"danger"},on:{click:function(e){t.isLogoutCheckModal=!0}}},[t._v("ログアウト")])],1)],1)],1)],1),a("aside",{staticClass:"col-sm-0 col-md-2 col-lg-2 col-xl-2"}),a("aside",{staticClass:"col-sm-12 col-md-8 col-lg-8 col-xl-8"},[a("article",{staticClass:"card-body"},[a("h4",{staticClass:"card-title text-center mb-4 mt-1"},[t._v("投稿一覧")]),t._l(t.successMsgList,(function(e,s){return a("div",{key:s},[a("b-alert",{attrs:{show:"",variant:"success"}},[t._v(" "+t._s(e)+" ")])],1)})),t._l(t.dangerMsgList,(function(e,s){return a("div",{key:s},[a("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(" "+t._s(e)+" ")])],1)})),a("br"),a("div",[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"btn-group btn-group-lg"},[a("button",{staticClass:"btn btn-secondary",class:{active:1===t.btnval},on:{click:function(e){t.btnval=1}}},[t._v(" ユーザ名 ")]),a("button",{staticClass:"btn btn-secondary",class:{active:2===t.btnval},on:{click:function(e){t.btnval=2}}},[t._v(" 作品名 ")])])]},proxy:!0}])},[a("aside",{staticClass:"col-12",attrs:{id:"side_search"}},[a("b-form",{attrs:{inline:""}},[a("label",{staticClass:"mr-sm-2"},[t._v("検索")]),a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"Search"},model:{value:t.xname,callback:function(e){t.xname=e},expression:"xname"}}),a("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.initialize()}}},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)],1)],1)])],1),a("br"),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.opusSubmitList,(function(e,s){return a("tr",{key:s,staticStyle:{"background-color":"#ffa500"}},[a("td",[t._v(t._s(e.user_name))]),a("td",[t._v(t._s(e.opus_name))]),a("td",[a("button",{staticClass:"btn btn-info",on:{click:function(a){return t.createGraphApi(e.opus_id)}}},[a("font-awesome-icon",{attrs:{icon:"eye"}})],1)])])})),0)])],2),a("article",{staticClass:"card-body"},[0!=t.searchOpus.min?a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-secondary",class:[t.searchOpus.min===t.searchOpus.current?"btn-secondary active":"btn-secondary"],attrs:{type:"button"},on:{click:function(e){return t.searchOpusApi(t.searchOpus.min)}}},[t._v(" "+t._s(t.searchOpus.min)+" ")]),t._v(" ... ")]):t._e(),t._l(t.searchOpus.btnloop,(function(e){return a("div",{key:e,staticClass:"btn-group"},[a("button",{staticClass:"btn btn-secondary",class:[e+t.searchOpus.addpage===t.searchOpus.current?"btn-secondary active":"btn-secondary"],attrs:{type:"button"},on:{click:function(a){return t.searchOpusApi(e+t.searchOpus.addpage)}}},[t._v(" "+t._s(e+t.searchOpus.addpage)+" ")])])})),0!=t.searchOpus.max?a("div",{staticClass:"btn-group"},[t._v(" ... "),a("button",{staticClass:"btn btn-secondary",class:[t.searchOpus.max===t.searchOpus.current?"btn-secondary active":"btn-secondary"],attrs:{type:"button"},on:{click:function(e){return t.searchOpusApi(t.searchOpus.max)}}},[t._v(" "+t._s(t.searchOpus.max)+" ")])]):t._e()],2)]),a("aside",{staticClass:"col-sm-0 col-md-2 col-lg-2 col-xl-2"}),a("b-modal",{attrs:{title:"確認画面"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{staticClass:"float-right",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.isLogoutCheckModal=!1}}},[t._v(" 閉じる ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.logout()}}},[t._v(" ログアウト ")])]},proxy:!0}]),model:{value:t.isLogoutCheckModal,callback:function(e){t.isLogoutCheckModal=e},expression:"isLogoutCheckModal"}},[a("b-container",{attrs:{fluid:""}},[a("p",{staticClass:"my-4"},[t._v("ログアウトしますか？")])])],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("ユーザ名")]),a("th",[t._v("作品名")]),a("th",[t._v("閲覧")])])])}],c=a("3849"),n=a("244f"),o=a("5969"),i={data:function(){return{opusSubmitList:[],works:[],successMsgList:[],dangerMsgList:[],searchOpus:{current:1,offset:0,limit:o["a"].OPUS_LIST_MAX,btnloop:0,min:0,max:0,addpage:0},btnval:1,xname:"",graphList:n["a"].graphList,graphCreate:n["a"].graphCreate,login:n["a"].login,isLogoutCheckModal:!1}},beforeRouteEnter:function(t,e,a){a((function(t){t.initialize(),a()}))},methods:{initialize:function(){var t=this,e={user_id:this.$store.getters.getUserId,token:this.$store.getters.getToken,offset:this.searchOpus.offset,limit:this.searchOpus.limit};this.xname&&(1==this.btnval?e.user_name=this.xname:e.opus_name=this.xname),this.$http.get(c["a"].SEARCH_ALL_OPUS,{params:e}).then((function(e){t.opusSubmitList=e.data.optional;var a={user_id:t.$store.getters.getUserId,token:t.$store.getters.getToken,offset:0,limit:9999};t.xname&&(1==t.btnval?a.user_name=t.xname:a.opus_name=t.xname),t.$http.get(c["a"].SEARCH_ALL_OPUS,{params:a}).then((function(e){t.searchOpus.addpage=0,t.searchOpus.btnloop=e.data.optional.length>o["a"].OPUS_LIST_MAX?Math.floor((e.data.optional.length-1)/o["a"].OPUS_LIST_MAX)+1:1,t.searchOpus.btnloop>o["a"].OPUS_LIST_PAGE&&(t.searchOpus.max=0,t.searchOpus.min=0,t.searchOpus.btnloop<t.searchOpus.current+o["a"].OPUS_LIST_PAGE?(t.searchOpus.addpage=t.searchOpus.btnloop-o["a"].OPUS_LIST_PAGE-1,t.searchOpus.btnloop=o["a"].OPUS_LIST_PAGE+1):(t.searchOpus.max=t.searchOpus.btnloop,t.searchOpus.addpage=t.searchOpus.current-1,t.searchOpus.btnloop=o["a"].OPUS_LIST_PAGE),1!=t.searchOpus.current&&(t.searchOpus.min=1))})).catch((function(e){t.dangerMsgList=e.response.data.msg}))})).catch((function(e){t.dangerMsgList=e.response.data.msg}))},searchOpusApi:function(t){this.searchOpus.current=t,this.searchOpus.offset=(t-1)*o["a"].OPUS_LIST_MAX,this.initialize()},createGraphApi:function(t){var e=this,a={opus_id:t,user_id:this.$store.getters.getUserId,token:this.$store.getters.getToken};this.$http.get(c["a"].SEARCH_OPUS,{params:a}).then((function(s){s.data.optional.length?e.$router.push({path:e.graphCreate+"/"+t}):e.$http.post(c["a"].CREATE_GRAPH,a).then((function(t){console.log(t),console.log(t.data.optional),e.$router.push({path:e.graphCreate+"/"+t.data.optional.opus_id})})).catch((function(){console.log("グラフ登録に失敗しました。")}))})).catch((function(){console.log("作品取得に失敗しました。")}))},logout:function(){var t=this,e={user_id:this.$store.getters.getUserId};this.$http.get(c["a"].LOGOUT,{params:e}).then((function(e){t.$router.push({name:n["a"].login})})).catch((function(t){}))}}},O=i,l=a("2877"),p=Object(l["a"])(O,s,r,!1,null,null,null);e["default"]=p.exports},5969:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("d4ec"),r=a("ade3"),c=function t(){Object(s["a"])(this,t)};Object(r["a"])(c,"OPUS_LIST_MAX",20),Object(r["a"])(c,"OPUS_LIST_PAGE",5),Object(r["a"])(c,"USER_ID_STR","user"),Object(r["a"])(c,"USER_ID_DIGIT",6),Object(r["a"])(c,"USER_ID_LENGTH",c.USER_ID_STR.length+c.USER_ID_DIGIT),Object(r["a"])(c,"ACTOR_ID_STR","actor"),Object(r["a"])(c,"ACTOR_ID_DIGIT",3),Object(r["a"])(c,"ACTOR_ID_LENGTH",c.ACTOR_ID_STR.length+c.ACTOR_ID_DIGIT),Object(r["a"])(c,"TIME_ID_STR","time"),Object(r["a"])(c,"TIME_ID_DIGIT",4),Object(r["a"])(c,"TIME_ID_LENGTH",c.TIME_ID_STR.length+c.TIME_ID_DIGIT),Object(r["a"])(c,"REL_ID_STR","rel"),Object(r["a"])(c,"REL_ID_DIGIT",6),Object(r["a"])(c,"REL_ID_LENGTH",c.REL_ID_STR.length+c.REL_ID_DIGIT),Object(r["a"])(c,"REL_MST_ID_STR","relmst"),Object(r["a"])(c,"REL_MST_ID_DIGIT",4),Object(r["a"])(c,"REL_MST_ID_LENGTH",c.REL_MST_ID_STR.length+c.REL_MST_ID_DIGIT),Object(r["a"])(c,"GROUP_ID_STR","group"),Object(r["a"])(c,"GROUP_ID_DIGIT",4),Object(r["a"])(c,"GROUP_ID_LENGTH",c.GROUP_ID_STR.length+c.GROUP_ID_DIGIT),Object(r["a"])(c,"OPUS_ID_STR","opus"),Object(r["a"])(c,"OPUS_ID_DIGIT",4),Object(r["a"])(c,"OPUS_ID_LENGTH",c.OPUS_ID_STR.length+c.OPUS_ID_DIGIT)}}]);
//# sourceMappingURL=chunk-e6527178.3edcaa50.js.map